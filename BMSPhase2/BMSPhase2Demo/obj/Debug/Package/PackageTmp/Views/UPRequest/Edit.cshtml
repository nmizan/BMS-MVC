@model BMSPhase2Demo.ViewModels.UpAttachmentViewModel

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>

<p style="color: red; padding-left:350px;">@ViewBag.error</p>
<h2>  Exbonds </h2>
<div class="row">
    <div class="col-lg-12">
        <div class="table-responsive">
            <table class="table">
                <tr id="tr">

                    <th id="th">
                        @Html.DisplayNameFor(model => model.EXBONDs[0].ID)

                    </th>
                    <th id="th">
                        @Html.DisplayNameFor(model => model.EXBONDs[0].BONDER.BONDERNAME)
                    </th>
                    <th id="th">
                        @Html.DisplayName("No of LC")
                    </th>
                    <th id="th" width="1%">
                        Action
                    </th>
                </tr>


                @{string trgb = "#c1deef";}
                @for (int i = 0; i < Model.EXBONDs.Count(); i++)
                {

                    if (Model.EXBONDs[i].EXBONDBACKTOBACKs.Count() < 1) { trgb = "#e6ebee"; }

                    <tr style="background: @trgb">


                        @Html.HiddenFor(modelItem => Model.EXBONDs[i].ID)


                        <td id="td">
                            @Html.DisplayFor(modelItem => Model.EXBONDs[i].ID)
                        </td>
                        <td id="td">
                            @Html.DisplayFor(modelItem => Model.EXBONDs[i].BONDER.BONDERNAME)
                        </td>

                        <td id="td">
                            @Model.EXBONDs[i].EXBONDBACKTOBACKs.Count()
                        </td>
                        <td id="td">
                            @Html.ActionLink("Delete", "DeleteExbond", "UpRequest", new { id = Model.EXBONDs[i].ID }, new { @class = "action-link" }) |
                            @Html.ActionLink("Details", "Details", "ExBond", new { id = Model.EXBONDs[i].ID }, new { @class = "action-link" })
                        </td>
                    </tr>

                }
            </table>

        </div>
    </div>
</div>

@using (Html.BeginForm("addMoreExbond", "UpRequest", FormMethod.Post))
{

    <div class="row" style="padding-bottom:10px">
        <div class="col-lg-4"></div>
        <div class="col-lg-4">
            @Html.Hidden("ID", (short)ViewBag.requestID)
            <button type="submit" name="submit" class="btn btn-info">Add More Exbond</button>
        </div>

        <div class="col-lg-4"></div>
    </div>

}

<h2>  Attachments </h2>
<div class="row">
    <div class="col-lg-12">
        <div class="table-responsive">
            <table class="table">
                <tr id="tr">

                    <th id="th">
                        @Html.DisplayNameFor(model => model.ATTACHMENTs[0].ID)

                    </th>
                    <th id="th">
                        @Html.DisplayNameFor(model => model.ATTACHMENTs[0].NAME)
                    </th>

                    <th id="th" width="1%">
                        Action
                    </th>
                </tr>


                @{string trgb1 = "#c1deef";}
                @for (int i = 0; i < Model.ATTACHMENTs.Count(); i++)
                {



                    <tr style="background: @trgb1">


                        @Html.HiddenFor(modelItem => Model.ATTACHMENTs[i].ID)


                        <td id="td">
                            @Html.DisplayFor(modelItem => Model.ATTACHMENTs[i].ID)
                        </td>
                        <td id="td">
                            @Html.DisplayFor(modelItem => Model.ATTACHMENTs[i].NAME)
                        </td>


                        <td id="td">
                            @Html.ActionLink("Delete", "DeleteAttachment", "UpRequest", new { id = Model.ATTACHMENTs[i].ID }, new { @class = "action-link" })
                        </td>
                    </tr>

                }

            </table>
        </div>
    </div>
</div>
@using (Html.BeginForm("addMoreAttachment", "UpRequest", FormMethod.Post))
{
    <div class="row" style="padding-bottom:10px">
        <div class="col-lg-4"></div>
        <div class="col-lg-4">
            @Html.Hidden("ID", (short)ViewBag.requestID)
            <button type="submit" name="submit" class="btn btn-info">Add More Attachment</button>
        </div>

        <div class="col-lg-4"></div>
    </div>
}



@using (Html.BeginForm("save", "UpRequest", FormMethod.Post))
{

    <div class="row">
        <div class="col-lg-4"></div>
        <div class="col-lg-4">
            @Html.Hidden("ID", (short)ViewBag.requestID)
            <button type="submit" name="submit" class="btn btn-primary">Save</button>
        </div>

        <div class="col-lg-4"></div>
    </div>

}
